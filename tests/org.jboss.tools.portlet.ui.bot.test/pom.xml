<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<parent>
		<groupId>org.jboss.tools.integration-tests</groupId>
		<artifactId>tests</artifactId>
		<version>4.4.1-SNAPSHOT</version>
	</parent>
	<groupId>org.jboss.tools.portlet.tests</groupId>
	<artifactId>org.jboss.tools.portlet.ui.bot.test</artifactId>
	<packaging>eclipse-test-plugin</packaging>

	<properties>
		<jbosstools.test.jboss-gatein-3.5.home>${requirementsDirectory}/GateIn-3.5.0.Final-jbossas7</jbosstools.test.jboss-gatein-3.5.home>
		<jbosstools.test.jboss-gatein-3.4.home>${requirementsDirectory}/GateIn-3.4.0.Final-jbossas5</jbosstools.test.jboss-gatein-3.4.home>
		<jbosstools.test.jboss-seam-2.2.home>${requirementsDirectory}/jboss-seam-2.2.2.Final</jbosstools.test.jboss-seam-2.2.home>
		<jbosstools.test.jboss-seam-2.3.home>${requirementsDirectory}/jboss-seam-2.3.0.Final</jbosstools.test.jboss-seam-2.3.home>
		<jbosstools.test.jboss-portal.home>${requirementsDirectory}/jboss-portal-2.7.2</jbosstools.test.jboss-portal.home>
		<jbosstools.test.jboss-seam-2.0.home>${requirementsDirectory}/jboss-seam-2.0.2.SP1</jbosstools.test.jboss-seam-2.0.home>
		<jbosstools.test.jboss-portlet-bridge.home>${requirementsDirectory}</jbosstools.test.jboss-portlet-bridge.home>
		<configurations.dir>resources/project_config_files</configurations.dir>
		<systemProperties>${integrationTestsSystemProperties} -Djbosstools.test.jboss-gatein-3.4.home=${jbosstools.test.jboss-gatein-3.4.home} -Djbosstools.test.jboss-gatein-3.5.home=${jbosstools.test.jboss-gatein-3.5.home} -Djbosstools.test.jboss-seam-2.2.home=${jbosstools.test.jboss-seam-2.2.home} -Djbosstools.test.jboss-seam-2.3.home=${jbosstools.test.jboss-seam-2.3.home} -Djbosstools.test.jboss-portal.home=${jbosstools.test.jboss-portal.home} -Djbosstools.test.jboss-seam-2.0.home=${jbosstools.test.jboss-seam-2.0.home} -Djbosstools.test.jboss-portlet-bridge.home=${jbosstools.test.jboss-portlet-bridge.home} -Dtest.configurations.dir=${configurations.dir} -Dorg.eclipse.swtbot.screenshots.dir=${project.build.directory}/screenshots</systemProperties>
		<test.class>org.jboss.tools.portlet.ui.bot.test.AllTestsSuite</test.class>
		<surefire.timeout>7200</surefire.timeout>
	</properties>

	<profiles>
	</profiles>

	<repositories>
		<repository>
			<id>jbosstools-experiments</id>
			<url>https://repository.jboss.org/nexus/content/repositories/jbosstools-experiments/</url>
		</repository>
	</repositories>

	<build>
		<plugins>
			<plugin>
				<groupId>com.googlecode.maven-download-plugin</groupId>
				<artifactId>download-maven-plugin</artifactId>
				<executions>
					<execution>
						<id>install-gatein-3.4</id>
						<phase>pre-integration-test</phase>
						<goals>
							<goal>wget</goal>
						</goals>
						<configuration>
							<url>http://downloads.jboss.org/gatein/Releases/Portal/3.4.0.Final/GateIn-3.4.0.Final-jbossas5.zip</url>
							<unpack>true</unpack>
							<md5>3d9ba5aeaac268afd87b4fadf2978a93</md5>
						</configuration>
					</execution>
					<execution>
						<id>install-gatein-3.5</id>
						<phase>pre-integration-test</phase>
						<goals>
							<goal>wget</goal>
						</goals>
						<configuration>
							<url>http://downloads.jboss.org/gatein/Releases/Portal/3.5.0.Final/GateIn-3.5.0.Final-jbossas7.zip</url>
							<unpack>true</unpack>
							<md5>27abad276bbf8183f9dff0f6219938ec</md5>
						</configuration>
					</execution>
					<execution>
						<id>install-seam-2.0.2</id>
						<phase>pre-integration-test</phase>
						<goals>
							<goal>wget</goal>
						</goals>
						<configuration>
							<url>http://sourceforge.net/projects/jboss/files/JBoss%20Seam/2.0.2.SP1/jboss-seam-2.0.2.SP1.zip</url>
							<unpack>true</unpack>
							<md5>ddbd3d0e9f566249aa9c28371ab44adf</md5>
						</configuration>
					</execution>
					<execution>
						<id>install-seam-2.2.2</id>
						<phase>pre-integration-test</phase>
						<goals>
							<goal>wget</goal>
						</goals>
						<configuration>
							<url>http://sourceforge.net/projects/jboss/files/JBoss%20Seam/2.2.2.Final/jboss-seam-2.2.2.Final.zip</url>
							<unpack>true</unpack>
							<md5>3bdb26921b1ebfb7222968657df95bb3</md5>
						</configuration>
					</execution>
					<execution>
						<id>install-seam-2.3.0.Final</id>
						<phase>pre-integration-test</phase>
						<goals>
							<goal>wget</goal>
						</goals>
						<configuration>
							<url>http://sourceforge.net/projects/jboss/files/JBoss%20Seam/2.3.0.Final/jboss-seam-distribution-2.3.0.Final-dist.zip</url>
							<unpack>true</unpack>
							<md5>f5fcb2ae2b17514feb2a2d3bbf5f4e2b</md5>
						</configuration>
					</execution>
					<execution>
						<id>install-jboss-portal</id>
						<phase>pre-integration-test</phase>
						<goals>
							<goal>wget</goal>
						</goals>
						<configuration>
							<url>http://sourceforge.net/projects/jboss/files/JBoss%20Portal/JBoss-Portal-2.7.2.GA/jboss-portal-2.7.2-bundled.zip</url>
							<unpack>true</unpack>
							<md5>83aa628f5451f47ebce4845d8799144e</md5>
						</configuration>
					</execution>
					<execution>
						<id>install-jboss-portlet-bridge</id>
						<phase>pre-integration-test</phase>
						<goals>
							<goal>wget</goal>
						</goals>
						<configuration>
							<url>http://downloads.jboss.org/portletbridge/2.3.1.Final/JBossPortletBridge-2.3.1.Final.zip</url>
							<unpack>true</unpack>
						</configuration>
					</execution>
				</executions>
			</plugin>

			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-dependency-plugin</artifactId>
				<executions>
					<execution>
						<id>jbds-compatibility</id>
						<phase>pre-integration-test</phase>
						<goals>
							<goal>copy</goal>
						</goals>
						<configuration>
							<skip>${skipTests}</skip>
							<artifactItems>
								<artifactItem>
									<groupId>org.jboss.tools.portlet.tests</groupId>
									<artifactId>org.jboss.tools.portlet.ui.bot.tests.compatibility.jbds5</artifactId>
									<version>4.1.0</version>
									<type>zip</type>
									<destFileName>jbds5-compatibility.zip</destFileName>
								</artifactItem>
								<artifactItem>
									<groupId>org.jboss.tools.portlet.tests</groupId>
									<artifactId>org.jboss.tools.portlet.ui.bot.tests.compatibility.jbds6</artifactId>
									<version>4.1.0</version>
									<type>zip</type>
									<destFileName>jbds6-compatibility.zip</destFileName>
								</artifactItem>
								<artifactItem>
									<groupId>org.jboss.tools.portlet.tests</groupId>
									<artifactId>org.jboss.tools.portlet.ui.bot.tests.compatibility.jbds7</artifactId>
									<version>4.2.0</version>
									<type>zip</type>
									<destFileName>jbds7-compatibility.zip</destFileName>
								</artifactItem>
							</artifactItems>
							<outputDirectory>${basedir}/resources/compatibility/</outputDirectory>
						</configuration>
					</execution>
				</executions>
			</plugin>

			<plugin>
				<groupId>org.eclipse.tycho</groupId>
				<artifactId>tycho-surefire-plugin</artifactId>
				<configuration>
					<testSuite>org.jboss.tools.portlet.ui.bot.test</testSuite>
					<testClass>${test.class}</testClass>
					<explodedBundles>
						<bundle>org.mozilla.xulrunner.cocoa.macosx</bundle>
						<bundle>org.mozilla.xulrunner.gtk.linux.x86</bundle>
						<bundle>org.mozilla.xulrunner.gtk.linux.x86_64</bundle>
						<bundle>org.mozilla.xulrunner.win32.win32.x86</bundle>
					</explodedBundles>
					<dependencies combine.children="append">
						<dependency>
							<type>p2-installable-unit</type>
							<artifactId>org.jboss.tools.portlet.feature.feature.group</artifactId>
							<version>0.0.0</version>
						</dependency>
						<dependency>
							<type>p2-installable-unit</type>
							<artifactId>org.eclipse.datatools.enablement.hsqldb.feature.feature.group</artifactId>
							<version>0.0.0</version>
						</dependency>
						<dependency>
							<type>p2-installable-unit</type>
							<artifactId>org.jboss.tools.project.examples.feature.feature.group</artifactId>
							<version>0.0.0</version>
						</dependency>
						<dependency>
							<type>p2-installable-unit</type>
							<artifactId>org.jboss.tools.community.project.examples.feature.feature.group</artifactId>
							<version>0.0.0</version>
						</dependency>
					</dependencies>
				</configuration>
			</plugin>
		</plugins>
	</build>
</project>
