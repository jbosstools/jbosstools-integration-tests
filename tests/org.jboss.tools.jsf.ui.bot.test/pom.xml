<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <groupId>org.jboss.tools.integration-tests</groupId>
    <artifactId>tests</artifactId>
    <version>4.3.1-SNAPSHOT</version>
  </parent>
  <groupId>org.jboss.tools.jsf.tests</groupId>
  <artifactId>org.jboss.tools.jsf.ui.bot.test</artifactId>
  <packaging>eclipse-test-plugin</packaging>
  <properties>
    <jbosstools.test.jboss-as.home>${requirementsDirectory}/jboss-as-7.0.2.Final</jbosstools.test.jboss-as.home>
    <org.jboss.tools.vpe.ui.bot.test.richfaces.ui.jar.location>${requirementsDirectory}/richfaces-4.2.1.Final/artifacts/ui/richfaces-components-ui-4.2.1.Final.jar</org.jboss.tools.vpe.ui.bot.test.richfaces.ui.jar.location>
    <jsfUiBotTestsProperties>-Dtest.configurations.dir=resources/properties/ -Djbosstools.test.jboss-as.home=${jbosstools.test.jboss-as.home} -Dorg.jboss.tools.vpe.ui.bot.test.richfaces.ui.jar.location=${org.jboss.tools.vpe.ui.bot.test.richfaces.ui.jar.location}</jsfUiBotTestsProperties>
    <systemProperties>${integrationTestsSystemProperties} ${jsfUiBotTestsProperties}</systemProperties>
    <test.suite.class>org.jboss.tools.jsf.ui.bot.test.JSFAllBotTests</test.suite.class>
  </properties>
  <build>
    <plugins>
    	<plugin>
			<groupId>org.apache.maven.plugins</groupId>
			<artifactId>maven-dependency-plugin</artifactId>
			<version>2.4</version>
			<executions>
				<execution>
					<id>unpack</id>
					<phase>pre-integration-test</phase>
					<goals>
						<goal>unpack</goal>
					</goals>
					<configuration>
						<skip>${skipTests}</skip>
						<artifactItems>
							<artifactItem>
								<groupId>org.jboss.as</groupId>
								<artifactId>jboss-as-dist</artifactId>
								<version>7.0.2.Final</version>
								<type>zip</type>
							</artifactItem>
							<artifactItem>
								<groupId>org.richfaces</groupId>
								<artifactId>richfaces-distribution</artifactId>
								<version>4.2.1.Final</version>
								<type>zip</type>
							</artifactItem>
						</artifactItems>
					</configuration>
				</execution>
			</executions>
		</plugin>
    
      <plugin>
        <groupId>org.eclipse.tycho</groupId>
        <artifactId>tycho-surefire-plugin</artifactId>
        <configuration>
          <testSuite>org.jboss.tools.jsf.ui.bot.test</testSuite>
          <testClass>${test.suite.class}</testClass>
        </configuration>
      </plugin>
    </plugins>
  </build>
	<profiles>
		<profile>
			<id>performance-test</id>
			<properties>
				<test.suite.class>org.jboss.tools.jsf.ui.bot.test.JSFPerformanceBotTests</test.suite.class>
				<systemProperties>${integrationTestsSystemProperties} ${jsfUiBotTestsProperties} -DPerfMonitor.repURL=http://localhost:8180/PerfServer/rest/rep -DPerfMonitor.project=JBT -DPerfMonitor.build=420Alpha -DPerfMonitor.testsuite=JSFPerfTest -DPerfMonitor.platform=Lin_8x2.8Ghz_6GB -Djava.library.path=${basedir}/../../plugins/org.jboss.tools.perf.test.core/hyperic-sigar-1.6.5/sigar-bin/lib</systemProperties>
			</properties>
		</profile>
	</profiles>
</project>
